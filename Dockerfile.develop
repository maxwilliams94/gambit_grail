FROM python:3.11.6-alpine

RUN apk update && apk add git

WORKDIR /src/gambit_grail
COPY pyproject.toml .
COPY src ./src

RUN python -m pip install .
COPY run.sh /
WORKDIR /

CMD ["sh", "/run.sh"]